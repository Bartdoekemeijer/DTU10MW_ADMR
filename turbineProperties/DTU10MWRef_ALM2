/*--------------------------------*- C++ -*----------------------------------*\
| =========                 |                                                 |
| \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox           |
|  \\    /   O peration     | Version:  2.0.x                                 |
|   \\  /    A nd           | Web:      www.OpenFOAM.org                      |
|    \\/     M anipulation  |                                                 |
\*---------------------------------------------------------------------------*/

FoamFile
{
    version     2.0;
    format      ascii;
    class       dictionary;
    object      turbineProperties;
}
// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //

NumBl                       3;    // Equal to ADMR
TipRad                      89.2; // Equal to ADMR
HubRad                      2.8;  // Equal to ADMR
UndSling                    0.0;  // Equal to ADMR
OverHang                   -7.1;  // Equal to ADMR
NacelleLength               8; // ?? Same as 5MW
NacelleFrontalArea          2; // ?? Same as 5MW
NacelleCd                   0.5; // ?? Same as 5MW
TowerHt                    115.63; // Equal to ADMR
Twr2Shft                    2.75;  // Equal to ADMR
ShftTilt                   -5.0;   // Equal to ADMR
PreCone                   (-2.5 -2.5 -2.5); // Equal to ADMR
GBRatio                    50.0;  // Equal to ADMR
GBEfficiency                1.0;  // Equal to ADMR
GenEfficiency               1.0;  // Equal to ADMR
RatedRotSpeed              9.6;   // Equal to ADMR
GenIner                   1500.5; // Equal to ADMR
HubIner                   325.6709E3; // Equal to ADMR
BladeIner                  45.64E6;   // Equal to ADMR
GenTorqueControllerType    "fiveRegion"; // Equal to ADMR
BladePitchControllerType   "PID";  // Equal to ADMR
NacYawControllerType       "none"; // Equal to ADMR
RotSpeedLimiter             false; // Equal to ADMR
GenTorqueRateLimiter        true;  // Equal to ADMR 
NacYawRateLimiter           true;  // Equal to ADMR
BladePitchRateLimiter       false; // Equal to ADMR
SpeedFilterCornerFrequency  2.5;   // Equal to ADMR


GenTorqueControllerParams
{
    RateLimitGenTorque       15.0E4; // Equal to ADMR
    SpeedTorqueTable
    (
        //      gen speed (RPM) gen torque (N-m)
        (       200.00               0.0 )
        (       300.00           90000.0 )
        (       405.00          164025.0 )
        (       480.00          164025.0 )
    );
    CutInGenSpeed           200.0;
    Region2StartGenSpeed    300.0;
    Region2EndGenSpeed      405.0;
    CutInGenTorque          0.0;
    RatedGenTorque          164025.0;
    KGen                    1.0;
}

BladePitchControllerParams
{
    RateLimitBladePitch      10.000;
    PitchMin                  0.000;
    PitchMax                 90.000;
    PitchK                    6.302336;
    PitchControlKP            1.82620057;
    PitchControlKI            0.78265750;
    PitchControlKD            0.000;
}

NacYawControllerParams
{
    RateLimitNacYaw           2.0;
}




Airfoils
(
	"Cylinder_originalDTU.dat"
	"FFA_W3_997_interp.dat"
	"FFA_W3_953_interp.dat"
	"FFA_W3_861_interp.dat"
	"FFA_W3_739_interp.dat"
	"FFA_W3_611_interp.dat"
	"FFA_W3_504_interp.dat"
	"FFA_W3_430_interp.dat"
	"FFA_W3_383_interp.dat"
	"FFA_W3_349_interp.dat"
	"FFA_W3_324_interp.dat"
	"FFA_W3_305_interp.dat"
	"FFA_W3_291_interp.dat"
	"FFA_W3_278_interp.dat"
	"FFA_W3_268_interp.dat"
	"FFA_W3_260_interp.dat"
	"FFA_W3_248_interp_NoFlap.dat"
	"FAA_W3_241_originalDTU.dat"
);


BladeData
(
	//  radius(m)  c(m) twist(deg) thickness(% of c) userDef airfoil 
	(	0.00000000	5.3800000	14.5000000	1.0000	0	0	)
	(	2.64301760	5.3802898	14.5000000	0.9995	0	1	)
	(	5.37976980	5.3799605	14.5000000	0.9943	0	2	)
	(	8.20273830	5.4524800	14.4320088	0.9455	0	3	)
	(	11.1031430	5.6354406	13.8888157	0.8500	0	4	)
	(	14.0710210	5.8660043	12.5459743	0.7198	0	5	)
	(	17.0953357	6.0706543	10.6086877	0.5883	0	6	)
	(	20.1641225	6.1845112	8.89245230	0.4875	0	7	)
	(	23.2646653	6.2030088	7.80180230	0.4154	0	8	)
	(	26.3836994	6.1428800	7.02416240	0.3709	0	9	)
	(	29.5076383	6.0199624	6.38219780	0.3422	0	10	)
	(	32.6227943	5.8490685	5.77685700	0.3188	0	11	)
	(	35.7156384	5.6453233	5.22750220	0.3017	0	12	)
	(	38.7730197	5.4218912	4.67357580	0.2867	0	13	)
	(	41.7823887	5.1858294	4.08859640	0.2753	0	14	)
	(	44.7319957	4.9428274	3.48775510	0.2665	0	15	)
	(	47.6110617	4.6982195	2.88655240	0.2591	0	16	)
	(	50.4099164	4.4567750	2.29907920	0.2528	0	16	)
	(	53.1201011	4.2226912	1.73617490	0.2486	0	17	)
	(	55.7344352	3.9986797	1.20718980	0.2453	0	17	)
	(	58.2470477	3.7860806	0.71870350	0.2448	0	17	)
	(	60.6533643	3.5857065	0.27307630	0.2443	0	17	)
	(	62.9500952	3.3980945	-0.1303796	0.2439	0	17	)
	(	65.1351584	3.2234897	-0.4932788	0.2434	0	17	)
	(	67.2075977	3.0618997	-0.8195652	0.2431	0	17	)
	(	69.1674921	2.9130401	-1.1139248	0.2430	0	17	)
	(	71.0158535	2.7762792	-1.3827044	0.2429	0	17	)
	(	72.7545098	2.6506950	-1.6310908	0.2428	0	17	)
	(	74.3859743	2.5359473	-1.8619588	0.2427	0	17	)
	(	75.9133469	2.4307714	-2.0776268	0.2426	0	17	)
	(	77.3402166	2.3314318	-2.2800794	0.2425	0	17	)
	(	78.6705231	2.2324158	-2.4689967	0.2425	0	17	)
	(	79.9084849	2.1290689	-2.6440841	0.2424	0	17	)
	(	81.0585215	2.0190956	-2.8029648	0.2423	0	17	)
	(	82.1251565	1.9033225	-2.9450707	0.2423	0	17	)
	(	83.1129575	1.7761077	-3.0700851	0.2422	0	17	)
	(	84.0264859	1.6260119	-3.1773290	0.2422	0	17	)
	(	84.8702529	1.4401192	-3.2709560	0.2421	0	17	)
	(	85.6486629	1.1835990	-3.3575265	0.2421	0	17	)
	(	86.3660000	0.6000000	-3.4280000	0.2420	0	17	)
);


TowerData
(
//  height(m)   c(m)    twist(deg)  thickness(% of c)   userDef  airfoil
    (0.0         8.30    0.0        1.0                 0        0)
    (50.0        8.30    0.0        1.0                 0        0) // Just a guess. Probably not very important...
    (115.63      5.50    0.0        1.0                 0        0)
);
